<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Nick Seedorff and Grant Brown" />

<meta name="date" content="2019-11-25" />

<title>Introduction to totalvis</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Introduction to totalvis</h1>
<h4 class="author">Nick Seedorff and Grant Brown</h4>
<h4 class="date">2019-11-25</h4>


<div id="TOC">
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li><a href="#simulated-examples"><span class="toc-section-number">2</span> Simulated examples</a><ul>
<li><a href="#total-effect"><span class="toc-section-number">2.1</span> Total effect</a></li>
<li><a href="#correlated-features-with-different-effects"><span class="toc-section-number">2.2</span> Correlated features with different effects</a></li>
<li><a href="#correlated-feature-with-no-effect-on-the-outcome"><span class="toc-section-number">2.3</span> Correlated feature with no effect on the outcome</a></li>
</ul></li>
<li><a href="#communities-and-crimes-example"><span class="toc-section-number">3</span> Communities and Crimes Example</a><ul>
<li><a href="#extrapolation-error"><span class="toc-section-number">3.1</span> Extrapolation error</a></li>
<li><a href="#feature-importance-and-correlation"><span class="toc-section-number">3.2</span> Feature importance and correlation</a></li>
<li><a href="#totalvis-plots"><span class="toc-section-number">3.3</span> totalvis plots</a></li>
<li><a href="#additionally-functionality"><span class="toc-section-number">3.4</span> Additionally functionality</a></li>
</ul></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p><code>totalvis</code> is a model agnostic vizualization tool used to summarize complex relationships in black-box models. The package relies on a PCA based transformation of the training data to group correlated features and display their total effect on the response. This vignette demonstrates base usage of ‘totalvis’ by reproducing all figures used in the associated paper, as well as introducing a few additional components.</p>
<p>The vignette makes use of the following packages:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(MASS)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">library</span>(randomForest)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">library</span>(MachineShop)</a>
<a class="sourceLine" id="cb1-4" title="4"><span class="kw">library</span>(gbm)</a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">library</span>(e1071)</a>
<a class="sourceLine" id="cb1-6" title="6"><span class="kw">library</span>(nnet)</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="kw">library</span>(caret)</a>
<a class="sourceLine" id="cb1-8" title="8"><span class="kw">library</span>(kknn)</a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#devtools::install_github(&quot;nickseedorff/totalvis&quot;, </span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#                       auth = &quot;8d5a20d386acf526450bff89472f1f4b7482444e&quot;, </span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">#                       build_vignettes = T)</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">#devtools::install_github(&quot;nickseedorff/totalvis&quot;)</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="kw">library</span>(totalvis)</a></code></pre></div>
</div>
<div id="simulated-examples" class="section level1">
<h1><span class="header-section-number">2</span> Simulated examples</h1>
<p>Through three simulated examples we display several characters of <code>totalvis</code>. The first example addresses the concept of a ‘total effect’. Following this, examples address the use of the <code>partial_effects</code> plot as a diagnostic tool that provides further insights into the dependence patterns.</p>
<div id="total-effect" class="section level2">
<h2><span class="header-section-number">2.1</span> Total effect</h2>
<p>This example demonstates the ‘total effect’ notion of <code>totalvis</code> plots. Marginally, the covariates affect the outcome in piece-wise linear fashions with. <code>totalvis</code> looks to group the features based on their positive correlation and describe the total impact they have on the response.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co">## Generate data</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">set.seed</span>(<span class="dv">2021</span>)</a>
<a class="sourceLine" id="cb2-3" title="3">X &lt;-<span class="st"> </span><span class="kw">mvrnorm</span>(<span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">mu =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">1.2</span>), </a>
<a class="sourceLine" id="cb2-4" title="4">                   <span class="dt">Sigma =</span> <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="dv">1</span>), <span class="dt">nrow =</span> <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw">colnames</span>(X) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;X2&quot;</span>)</a>
<a class="sourceLine" id="cb2-6" title="6">X_new &lt;-<span class="st"> </span><span class="kw">cbind</span>(X[, <span class="dv">1</span>], <span class="kw">as.numeric</span>(X[, <span class="dv">1</span>] <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span>), </a>
<a class="sourceLine" id="cb2-7" title="7">               <span class="kw">as.numeric</span>(X[, <span class="dv">2</span>] <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.5</span>), X[, <span class="dv">2</span>])</a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">## Covariates have piece-wise linear behavior</span></a>
<a class="sourceLine" id="cb2-10" title="10">y =<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>X_new[, <span class="dv">1</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>X_new[, <span class="dv">2</span>]) <span class="op">+</span><span class="st"> </span>X_new[, <span class="dv">2</span>] <span class="op">+</span><span class="st"> </span>X_new[, <span class="dv">3</span>] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="st">  </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>X_new[, <span class="dv">4</span>] <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>X_new[, <span class="dv">3</span>]) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1000</span>, <span class="dv">0</span>, <span class="fl">0.2</span>)</a>
<a class="sourceLine" id="cb2-12" title="12"></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb2-14" title="14"><span class="kw">plot</span>(X[, <span class="dv">1</span>], y, <span class="dt">xlab =</span> <span class="st">&quot;X1&quot;</span>)</a>
<a class="sourceLine" id="cb2-15" title="15"><span class="kw">plot</span>(X[, <span class="dv">2</span>], y, <span class="dt">xlab =</span> <span class="st">&quot;X2&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">## Train the model</span></a>
<a class="sourceLine" id="cb3-4" title="4">mod_frame &lt;-<span class="st"> </span><span class="kw">ModelFrame</span>(X, y)</a>
<a class="sourceLine" id="cb3-5" title="5">knn_mod &lt;-<span class="st"> </span><span class="kw">fit</span>(mod_frame, <span class="dt">model =</span> KNNModel)</a></code></pre></div>
<p>The partial depedence plots (PDPs) correctly identify the marginal effects.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co">## Partial depedence of X1</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">plot</span>(<span class="kw">totalvis</span>(knn_mod, X, <span class="dt">feature =</span> <span class="st">&quot;X1&quot;</span>, <span class="dt">pc_num =</span> <span class="ot">NULL</span>))</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co">## Partial depedence of X2</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">plot</span>(<span class="kw">totalvis</span>(knn_mod, X, <span class="dt">feature =</span> <span class="st">&quot;X2&quot;</span>, <span class="dt">pc_num =</span> <span class="ot">NULL</span>))</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p><code>totalvis</code> groups the features based on their correlation and presents reasonable summary of their combined effect.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co">## Total effect plot</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">plot</span>(<span class="kw">totalvis</span>(knn_mod, X), <span class="dt">legend_cex =</span> <span class="fl">0.9</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<pre><code>##   feature_name loading_value
## 1           X2         0.707
## 2           X1         0.707</code></pre>
</div>
<div id="correlated-features-with-different-effects" class="section level2">
<h2><span class="header-section-number">2.2</span> Correlated features with different effects</h2>
<p>When using PCA to transform the training data, the assocation with the response is not taken into account. Thus, the principal components should be assessed to see if the covariates behave constructively on the outcome.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="co">## Generate data</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">set.seed</span>(<span class="dv">2021</span>)</a>
<a class="sourceLine" id="cb8-3" title="3">X &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">mvrnorm</span>(<span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">mu =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>), </a>
<a class="sourceLine" id="cb8-4" title="4">                           <span class="dt">Sigma =</span> <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">0.9</span>, <span class="fl">0.9</span>, <span class="dv">1</span>), <span class="dt">nrow =</span> <span class="dv">2</span>)))</a>
<a class="sourceLine" id="cb8-5" title="5"><span class="kw">colnames</span>(X) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;X2&quot;</span>)</a>
<a class="sourceLine" id="cb8-6" title="6">y =<span class="st"> </span>X[, <span class="dv">1</span>] <span class="op">-</span><span class="st"> </span>X[, <span class="dv">2</span>] <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1000</span>, <span class="dv">0</span>, <span class="fl">0.1</span>) </a>
<a class="sourceLine" id="cb8-7" title="7"></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="co">## Train model</span></a>
<a class="sourceLine" id="cb8-9" title="9">gbm_mod &lt;-<span class="st"> </span><span class="kw">gbm</span>(y <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> <span class="kw">data.frame</span>(y, X), <span class="dt">n.trees =</span> <span class="dv">200</span>, </a>
<a class="sourceLine" id="cb8-10" title="10">               <span class="dt">distribution =</span> <span class="st">&quot;gaussian&quot;</span>)</a></code></pre></div>
<p>Due to contrasting effects of the two covariates, the average prediction remains near 0 throughout the range of the prinicpal component.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="co">## Total effect plot</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">plot</span>(<span class="kw">totalvis</span>(gbm_mod, X), <span class="dt">legend_loc =</span> <span class="st">&quot;topleft&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAAGwCAMAAAAezai4AAAAsVBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZrYA/wAekP86AAA6ADo6AGY6OgA6Ojo6OmY6OpA6ZpA6ZrY6kNtmAABmADpmOgBmOjpmZgBmkJBmkLZmkNtmtrZmtv+QOgCQOjqQZgCQkGaQttuQ27aQ2/+2ZgC2Zjq2ZpC225C229u22/+2/7a2///bkDrbkGbbtmbbtpDb27bb2//b/7bb////tmb/trb/25D/27b//7b//9v///8BPcHMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAATLklEQVR4nO2diXbcthVAqTSSR0k3S05XqZsnbVJPmzaeKhL//8PKfRkuQyzvASTvPceWhwMCoHGFlSSSFECRJHQGYF8gHKiCcKAKwoEqCAeqIByognCgCsKBKggHqiAcqIJwoArCgSoIB6ogHKiCcKAKwoEqCAeqIByognCgCsKBKggHqiAcqIJwoArCgSoIB6ogHKiCcKAKwoEqCAeqIByognCgCsKBKgiXnpKSX37ffrj59feDrwaB356T28/9uN7+/mkkhbdv75Pk/TCx7Jt//7wX/XEQ49ZAuMaB5OZj98PT5VeDwEPhfvrmizHhzvkJD8PE0tdvqk/ll2/fJgi3fRoH8sJuP/T0azzoHhkKd0xGhTuNCJufmkVQk+v9wzcJwu2AU2nJT4+5FtWH/2Rlf3fx1SBwLdwPv0mSn/3+c+5bRqNc/3AVwUViyZd/zT48167f3CPc9qkcKOuh+sPrY+lA56tB4Eq4U1Nj9YS7ONwXrj6//PD2p/f/zQ99+d2wV7g1EK6p1B7zn7UQ5T96Xw0Cl8K93FfV00OvSe0e7jWp7fmZ1HedfPzr/UgjvTkQ7rIP1whXtnlX+3CVZMWPjnDdwxN9uMzJh35WEG4PXIxSR4WbHqXWjhThW+F6h8eEy44g3D7pTb2NClfNyl0GLvSo28VzPtJshesdHgpXnH/RpKYItw9ObTvYfig79L2vBoHtarje+fWgoTIa4fbAmHD5TMVdukQ44z5cL7HutEiKcPvg0oGxHt1o4OEotWPW/Ci1iaA78Ytw+2BcuGpp67pwnQm3Yg1rOA83KVy7tPW+F+OWQbhR4ZrF+wXClUsKfyiOfJs1kvUAoz08KVy9eP/dRYwbBuFAFYQDVRAOVEE4UAXhQBWEA1UQDlRBOFAF4UAVhANVEA5UQThQBeFAFYQDVRAOVEE4UAXhQBWEA1UQDlRBOFAF4UAVhANVEA5UQThQBeFAFYQDVRAOVEE4UAXhQBWEA1UQDlTxLFwCOyWUcH6jW1nyOwbhQBWEA1UQDlRBOFAF4UAVIeHqnSxG9z02j847CBcKGeFO9e5358tt8HrRHUsr643LXh+fliZQnZmMnXBeEAvChUJEuLfnRrPTxP4VpXDFl6+P5ntcHKdPWaQtwmlwOBwGx0SE65T5eaJR7QiXnpvtVxaDcCvgoCacWQ2Xvtw/vX74S/LFPzNVXu7/+JgkDy/3ZXN5LJvN4uvf5k3vqWx/O8LlexAVyZVh8zNvf8yly8wrzvvUBMm/K1thhJPnoCdcVsJVLXOlD9fUcEWz+loIV2wbmluS7/KY7wyZHSi+zivLt+cy4la4U7Fjcr6NfBP2qazlcuGK1roOkomd5+jJ9GrAhoOmcPkexgWTLV+vD3eX/XlIK+Ee0vqvrIL6WPzsfP1V2fo2whXf5C52wnaFe+gE6TTvCCfNhG9h5+GqsWYlUyXcU9r5q9qau+yXZXVY3UIf60Fq2f+7DNsK95S2QV4fG+MQTpoJ3wIL11SAE8Jlna8v/nFfC5fVUMeqhW7OPDfzI92wfeGaIMXsIH04DaZ8i1u45kMp3OuHv32oxrOtcPUItxd2pIarORafEE6WSd/iFq7odJ2bJvXt+Rf1CZ0+XD086YYtum1FI/p0OU9SfkI4UaY6cKnYPFx7g+eCebh0robL4nqonWkWMC5GqXm11Qn7kKl5+zlrP0vhmiBFVXemhhNnxjehGu7teXIRtRvdkj7czcdjPmtSCFePUQfzcHlqddhsQHH7OVf+j1WT2gbJe3Nl+4pwksz4Jrd4fzcfwKrEX37la593hBNkzjexPtx5dF298+yMWXQlp4lZZHMQTo5Z39Z0P9zLvfkiv8fkYRlzHbh0VcJtKPkNc8U3hAOvXPNNXLjT3LRIOBBOiGu+UcOBT676hnDgkeu+IRz442oHLuWpLfDHEt/CPrUVDoQTYIlvYZ9pCAfC+WeRb2Gf2goHwnlnmW8rquHeGZ8xA8L5ZlEHLg381JYJ7y6Mq1dWT/Wt40YL+wjnmaW+hX1qy4RL4SqX8we83p6LRwuv3BDlljzMs9S31czDvUsHjeqxeE71rn5ma2oRzUvyMM9i39Yi3Lvmr5b8edaOZUYvjEA4ryz3bVXCXRr3cv+7+/Y2zyM1XCgWd+DStQj37uJnxakzUpgcnnhIHmYx8W3VwmWD06ZWOxuNGRDOJya+rUO4dy3dw8fbHx8rzczqN4TziZFv6xBunPw5nUq0k6FvCOcPM99WLNzLfV67FW9uOI0/IiaaPJQYdeDSFQtXPWudvwGueLuXcvJQYurbaoXLX+RQ/CMbLZzKVQ3m4QJg6ttqhVt38pvB2DeEAwfMfUM4sMe4A5ciHNhj4xvCgTU2viEc2GLl24qE4xbzuLDzbT3Czd1inn/82uDmJIRzx6oDl65YuM4t5mm+4GByNxzCOWPr22qEm7vFvHh5L8JpYu3bmoVrbzHPKrup5189JQ99rH1bi3BXbzFHOE3sfVu1cN3b4BBOEQffViLcglvMEU4N+w5cum7hOreYI5weTr6tQ7jxZxo6t5gjnCJOvq1DuFE6t5inCKeHm2/rFa5zi3n+EeGUcPRttcJ1bzEvfiCcCm4duHS9wq07+dXi7BvCgQnOviEcGODuG8LBcjz4hnCwGPcOXIpwsBgvviEcLMWLbwgHC/HjG8LBMjz5hnCwCD8duFRIuNfH/B6OM7sJbgZvvgkKV2x61Nl1yz46ARDODG++yQlXqTa511ZgDK4GPPomJ1y5PUysuwmCCR59C1fDGUQHYfHXgUvFhMtbrbu0Hj44RgdB8eqb2LRI5tzNx5ntExBuNXj1ba/zcLAYv74hHMzj2Tcp4Yo9mpN4J35hIX47cKmUcM07GPxtQQ4h8O6bjHBvz41mTIusGf++SU2LNAtaTPyuGf++UcPBNAK+ifXhqirusg/HYuaKkPBNapRarjUkyUT9Rg23AgQ6cCnzcDCFjG8IBxPI+CYu3IlR6joR8o0aDkaR8g3hYAyhDlyKcDCGnG8s3sMIcr6xeA9DBH1jaQsGSPrG4j1cItiBS6nh4BJZ37QX7+2iA0VkfWPxHvoI+8Y8HPSQ9g3hoItwBy5FOOgi7xvCQQd53xAOWhR8Qzho0PAN4aBGoQOXIhzU6PiGcFCh45uFcK8frDb9tk0XdFDyzUG4qcdjPKcLKmj5ZizcsX12furlln7TBQ2UOnCpSw2nlC4ooOcbgwZQ9c1GuPrWI/pwW0HRNxvhjrefT3f1xh/i6YI4mr7Z9OEeH9Lz7efJm8c9pwvSqPpmJdxT+vL1p+KPQrogjGYHLrURLn9CJh+pItwmUPbNpg+Xz/geH2hSt4Gyb1bTIse7fKTqNEhFuEjQ9o15uH2j7hvC7RrtDlxqJdzVNyN5TRfkCOCb1cSvW+/NMF2QI4BvlhO/iumCGCF8s5z4VUwXxAjhm9XE751muiDGSoRzXbY3TBekCNKimgpX35rEKHX9BPGNebjdEqaCQ7jdEsY3q1Fq4mHUgHChWY1w+QtVHR/ZMkkXZAjUoto2qc7OIVxgAvlm34c7uY1TES4w6xLunNn2lL4929+DiXCWeBIlVItq+5hgaZrD60UQzo6Dpzs8QvlmNUq9uf7oPZu7yXBo8BCPnywZIrUxCJu7iXA4+FEumG8ywrH1kRClaB6M25hwbO4mRO2Jq3LhWlRquCF+ekkSdLLllseAlyfVh1vt5m6+ekkC9PLklMXNCbfezd0OF4TOT5eLDNnnL+SVcbdIj0vfYjJukB0n4bxkyQKE6zHsJcVj3CAzttkLellCwq104rdfFLELZ1tTBb0qJn47jDZasRg3khfL7G1PuLVOiwwLMDLhlhxbFNHGhFvpxO9EHRImMwO8CuclR1ZQw7WMlEQ8bepoTqyyt0Hhpid+24cMTaLTYbJIQ2RmwHhGLLIX+HeIid+a8YKIpYqbyIelcF6yZAfzcDX+ilSCiWyY/z6E/g1CuIqpgghdQJ1smBw3jkgLaeGm9hyMTbhpr0KXUJMJhFNJV4l54YIb5y13wa8G4QrmysG9jA7OUUyfbyGcS0acQbiCuXJwteVQ4xiF8VdTwe3z4QEW73PmS83NlsPB3bhrvw9mmbHOhg9YvM+5UgwupXS4wDoOL5kL7htLWznXTHCoFxrLHJTzV/+Gr+BYvM+5WgzW5dRRzN64KycZCmeaumeo4dKFwlnfW3vofTCPakn9axCVUdr+4amtRTo5tIUjt4WbRXUt/PIII2hRWbxPF/3eW7WFoycZG3c9uJFwyxOWgXm4Zb/3tk3hxO0AXgeWi+NDuChYVgzGxk2fYBTVkrALo4uhRUW4xcVgUTH5WB1YWv16ikochDPrchtVTD5Wyxa398uytCxRQXYvnGHZmwS9Mne2uNu1zCU/gcRBOINimO6VjQW8unaxtOvokDHzqKTZu3AWHbPOP3v0Qy2ZSr4e0KiD6RxEA4QznhM7jNnWFucCjbrBrje9izN2PciSqIRBOIu5jkmMbn5bYNzyWmlZnbooKll2LpxxO3PFuOW69SKbC2CQsatpLYxLEoQzLIVJR4x1657nnr1rCUfi286Fs/m1n3TKSrfZTBhFNx82lgoO4ezuAZn8wqJQ54XzEI1xVJLsWrhIfu1nq0z3aCyiEmT3woXOQ86McIaxzC3eRnGpuxYumlKYGYW4R2N106ccexcudB5KxoSwkGT8jKh8Q7go8CjcxB3GkVzoroWLqRyGefE0wxKZbrsXLnQeGgZaWM/YDGKJ6TL3LFxcJXFoaT9bRnMZqa88emHfwoXOQ4dDTzlrUQ5DfOfUjd0KF11Z9BzxKJzvfDqya+FC5+ECL6bErRvCxYerKnH7tlvhIi2OnGhd8cKehQuchWmizpwjOxVuy3VI3OxYuLA52CsIB6rsUzha1GDsV7igGdgvuxSOCi4cuxUuZPp7Zo/CUcEFROi1+fmrpM+x7kSDbwGRE654YX5nxwb76HyDcAERE65SLcJ9GmhRQyIm3Mt9IVyEO9HgW0j2V8NRwQVFSLh8U5C7tB4+OEbnFXwLi9S0SObczcfpnY8Qbq/sbR4O3wKzR+ECJQ05QsLFugU5FVxoZISLdQtyfAuOiHDRbtCLcMERmhaJcwtyfAvPrmo4fAuPVB8uxi3IqeAiQGiUGuMW5PgWAzuah0O4GFAWLmnwEp0J+BYF0sKdohml4lsU7KZJpYKLg70Ih2+RgHCgyk4W7/EtFnayeI9vsbCPpS0quGjYxeI9vsXDLmo4hIuHPSze41tE7GHxHt8iYgfzcFRwMSEpXKcr5yM6S/AtKhAOVNm8cPgWF7sQTistuM7WhaOCi4yNj1LxLTa2INzhCh6TAldWItw1p/BtLUQknItU+LYW4hEO33bBJoTzmzWQZC3C+U0dghGPcKMpXBybe346+y7JTyh/FkGT8mhSHUw6j2Ff/ju9PN4NMf8pNOnw8pL2gjoX1v67+r+tTk6rI0n5pwrb+c9u/9cvy2Om6AxKeem5LiCcNxDOMjqEswPhLKNDODsQzjI6hLMD4SyjQzg7EM4yOoSzA+Eso0M4OxBuUXSwUwIJF1OaWpe2rcuRTgbh1pLORpJBuLWks5FkEG4t6WwkGYRbSzobSQbh1pLORpJBuLWks5FkEG4t6WwkGYRbSzobSSaEcLBjEA5UQThQBeFAFYQDVRAOVEE4UAXhQBWEA1UQDlRBOFAF4UAVhANVAgl3nNwezhvFdunTL/j3xDlJbj5KJ6J0LQXSJRNGuPP0foS+eHvORDgld7KpnLNEzuLG6VxLgXjJBBHu9VFeuJf7fG/X08TO1Z4o90g5Spugci0F8iUTRLjT7Z/lm9QC4dpHz4RU/FoK5EsmhHAvX31U6MMVHGVdyK4k+/usI5zwteQolEwA4fJ2SEm4ya3SfcVfVDoaVY/8taQ6JRNAuFN2STrCnTXGDErCiV9LqlMy+sIVzZCKcPJ1gl6TqlC/6ZSMqnCnfDbpVL3f6Uk2mfyHeBmpDRoUrqX8f5MtmXTLE78n2f+4AqVpEZVrqdhUDdciL9zLvcbMvM7Er861lCCcJVX7IC3DSWNpS+laCjYqHOwVhANVEA5UQThQBeFAFYQDVRAOVEE4UAXhQBWEA1UQDlRBOFAF4UAVhANVEA5UQThQBeFAFYQDVRAOVEE4UAXhQBWEA1UQDlRBOFAF4UAVhANVEA5UQTgHjuU7P8qXJxWvtq9fzPHytcpbWFcIwjlQvvjl9TH/Ub4x8Fi+cOb1Uee1vysE4Ryo3jSUv6+rfDVhVs2V8iUINwHCOVAJl8t2qhrT/30qKjulF5uvEIRzoK3h3p77b8FEuCkQzoG6D3eX/em/oxLhpkA4B6pR6kOKcItBOAfa15PSpC4F4RzovA+3HjScy/eNI9wUCOdAR7jetAjCTYNwDnTf+F1M/BYbmxafEG4ChHOg94r518fO0hbCTYFwoArCgSoIB6ogHKiCcKAKwoEqCAeqIByognCgCsKBKggHqiAcqIJwoArCgSoIB6ogHKiCcKAKwoEqCAeqIByognCgCsKBKggHqiAcqPJ/b2zPUM/JbrQAAAAASUVORK5CYII=" /><!-- --></p>
<pre><code>##   feature_name loading_value
## 1           X2         0.707
## 2           X1         0.707</code></pre>
<p>Using a <code>partial_effects</code> plot, we take a deeper look at the depedence structure. Highlighted in this are counteractive behaviors of the two covariates, which appear to cancel each other out across the range of the principal component.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="co">## Partial effects plot</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">plot</span>(<span class="kw">partial_effects</span>(gbm_mod, X), <span class="dt">legend_cex =</span> <span class="fl">0.88</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="correlated-feature-with-no-effect-on-the-outcome" class="section level2">
<h2><span class="header-section-number">2.3</span> Correlated feature with no effect on the outcome</h2>
<p>In the final simulated example, we assess <code>totalvis</code>’ ability to correctly identify inputs which are relevant to the response. To do this, we generate two correlated features, but only one acts on the outcome. Additionally, this example indicates the usability of <code>totalvis</code> in the classification setting.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co">## Generate data</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="kw">set.seed</span>(<span class="dv">2021</span>)</a>
<a class="sourceLine" id="cb12-3" title="3">X &lt;-<span class="st"> </span>MASS<span class="op">::</span><span class="kw">mvrnorm</span>(<span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">mu =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>), </a>
<a class="sourceLine" id="cb12-4" title="4">                   <span class="dt">Sigma =</span> <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">0.8</span>, <span class="fl">0.8</span>, <span class="dv">1</span>), <span class="dt">nrow =</span> <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb12-5" title="5"><span class="kw">colnames</span>(X) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;X2&quot;</span>)</a>
<a class="sourceLine" id="cb12-6" title="6"></a>
<a class="sourceLine" id="cb12-7" title="7">y =<span class="st"> </span><span class="kw">as.factor</span>((X[, <span class="dv">1</span>] <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1000</span>, <span class="dv">0</span>, <span class="fl">0.1</span>)) <span class="op">&gt;</span><span class="st"> </span><span class="fl">1.5</span>)  </a>
<a class="sourceLine" id="cb12-8" title="8"></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="co">## Train model, plot pdp_pca</span></a>
<a class="sourceLine" id="cb12-10" title="10">mod &lt;-<span class="st"> </span><span class="kw">train</span>(X, y , <span class="dt">method =</span> <span class="st">&quot;nnet&quot;</span>, <span class="dt">trace =</span> F)</a></code></pre></div>
<p>The response only depends on X1, while X1 is positively correlated with X2. In isolation, the ‘pinplot’ is not able to distiguish between the effects of correlated predictors.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="co">## Pin plot</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">plot</span>(<span class="kw">totalvis</span>(mod, X, <span class="dt">pin =</span> <span class="st">&quot;X2&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;classification&quot;</span>))</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>However, <code>partial_effects</code> is able to identify the relevant predictors in the model. For this example, we make use of the <code>differenced = FALSE</code> argument to generate the <code>partial_effects</code> lines <code>totalvis</code> curve.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co">## Partial effects plot</span></a>
<a class="sourceLine" id="cb14-2" title="2">diag_obj &lt;-<span class="st"> </span><span class="kw">partial_effects</span>(mod, X, <span class="dt">type =</span> <span class="st">&quot;classification&quot;</span>)</a>
<a class="sourceLine" id="cb14-3" title="3"><span class="kw">plot</span>(diag_obj, <span class="dt">differenced =</span> <span class="ot">FALSE</span>, <span class="dt">legend_loc =</span> <span class="st">&quot;topleft&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>
<div id="communities-and-crimes-example" class="section level1">
<h1><span class="header-section-number">3</span> Communities and Crimes Example</h1>
<div id="extrapolation-error" class="section level2">
<h2><span class="header-section-number">3.1</span> Extrapolation error</h2>
<p>Before applying <code>totalvis</code> to the real data example, we present a limitation of PDPs and individual conditional expectation (ICE) curves. For both of these method, their procedures generate observations that are far outside of the joint distribution of the traing data when features are correlated; an instance of this can be refered below.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">set.seed</span>(<span class="dv">2021</span>)</a>
<a class="sourceLine" id="cb15-2" title="2">X &lt;-<span class="st"> </span>MASS<span class="op">::</span><span class="kw">mvrnorm</span>(<span class="dt">n =</span> <span class="dv">500</span>, <span class="dt">mu =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>), </a>
<a class="sourceLine" id="cb15-3" title="3">                   <span class="dt">Sigma =</span> <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">0.9</span>, <span class="fl">0.9</span>, <span class="dv">1</span>), <span class="dt">nrow =</span> <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb15-4" title="4"><span class="kw">colnames</span>(X) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;X1&quot;</span>, <span class="st">&quot;X2&quot;</span>)</a>
<a class="sourceLine" id="cb15-5" title="5"><span class="kw">plot</span>(X)</a>
<a class="sourceLine" id="cb15-6" title="6"><span class="kw">points</span>(<span class="kw">rep</span>(<span class="fl">1.5</span>, <span class="dv">500</span>), X[, <span class="dv">2</span>], <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="feature-importance-and-correlation" class="section level2">
<h2><span class="header-section-number">3.2</span> Feature importance and correlation</h2>
<p>The application uses the Community and Crimes Unnormalized Data Set, which comes the UCI Machine Learning Repository (<a href="https://archive.ics.uci.edu/ml/index.php" class="uri">https://archive.ics.uci.edu/ml/index.php</a>). Our study uses 101 of the predictors and the response variable of ‘murders per 100k population’. Many of the predictiors are related, with 12% of the correlations above 0.5.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="co">## Get data</span></a>
<a class="sourceLine" id="cb16-2" title="2">crimes &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">paste0</span>(<span class="st">&quot;https://archive.ics.uci.edu/ml/machine-learning-&quot;</span>,</a>
<a class="sourceLine" id="cb16-3" title="3">                          <span class="st">&quot;databases/00211/CommViolPredUnnormalizedData.txt&quot;</span>), </a>
<a class="sourceLine" id="cb16-4" title="4">                   <span class="dt">header =</span> F)</a>
<a class="sourceLine" id="cb16-5" title="5"></a>
<a class="sourceLine" id="cb16-6" title="6"><span class="co">## Add column names</span></a>
<a class="sourceLine" id="cb16-7" title="7">crimes_descr &lt;-<span class="st"> </span><span class="kw">readLines</span>(<span class="kw">paste0</span>(<span class="st">&quot;http://archive.ics.uci.edu/ml/datasets/&quot;</span>,</a>
<a class="sourceLine" id="cb16-8" title="8">                                 <span class="st">&quot;Communities+and+Crime+Unnormalized&quot;</span>))</a>
<a class="sourceLine" id="cb16-9" title="9">crimes_descr &lt;-<span class="st"> </span><span class="kw">strsplit</span>(crimes_descr[<span class="kw">grepl</span>(<span class="dt">pattern =</span> <span class="st">&quot;&lt;br&gt;@attribute&quot;</span>, </a>
<a class="sourceLine" id="cb16-10" title="10">                                            <span class="dt">x =</span> crimes_descr)], <span class="dt">split =</span> <span class="st">&quot; &quot;</span>)</a>
<a class="sourceLine" id="cb16-11" title="11"><span class="kw">colnames</span>(crimes) &lt;-<span class="st"> </span><span class="kw">vapply</span>(crimes_descr, <span class="dt">FUN =</span> <span class="cf">function</span>(rw) {rw[[<span class="dv">2</span>]]}, </a>
<a class="sourceLine" id="cb16-12" title="12">                           <span class="dt">FUN.VALUE =</span> <span class="st">&quot;STRING&quot;</span>)</a>
<a class="sourceLine" id="cb16-13" title="13"></a>
<a class="sourceLine" id="cb16-14" title="14"><span class="co">## Replace &quot;?&quot; with NA</span></a>
<a class="sourceLine" id="cb16-15" title="15">crimes[crimes <span class="op">==</span><span class="st"> &quot;?&quot;</span>] &lt;-<span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb16-16" title="16">crimes &lt;-<span class="st"> </span>crimes[, <span class="kw">colSums</span>(<span class="kw">is.na</span>(crimes)) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>]</a>
<a class="sourceLine" id="cb16-17" title="17"></a>
<a class="sourceLine" id="cb16-18" title="18"><span class="co">## Convert all columns to numeric, add outcome</span></a>
<a class="sourceLine" id="cb16-19" title="19">col_start &lt;-<span class="st"> </span><span class="kw">which</span>(<span class="kw">names</span>(crimes) <span class="op">==</span><span class="st"> &quot;pop&quot;</span>)</a>
<a class="sourceLine" id="cb16-20" title="20">end_start &lt;-<span class="st"> </span><span class="kw">which</span>(<span class="kw">names</span>(crimes) <span class="op">==</span><span class="st"> &quot;pctOfficDrugUnit&quot;</span>)</a>
<a class="sourceLine" id="cb16-21" title="21">data &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">sapply</span>(crimes[, col_start<span class="op">:</span>end_start], as.numeric))</a>
<a class="sourceLine" id="cb16-22" title="22">outcome &lt;-<span class="st"> </span>crimes<span class="op">$</span>murdPerPop</a>
<a class="sourceLine" id="cb16-23" title="23"></a>
<a class="sourceLine" id="cb16-24" title="24"><span class="co">## Train the model</span></a>
<a class="sourceLine" id="cb16-25" title="25"><span class="kw">set.seed</span>(<span class="dv">2021</span>)</a>
<a class="sourceLine" id="cb16-26" title="26">rf_mod &lt;-<span class="st"> </span><span class="kw">randomForest</span>(data, outcome, <span class="dt">ntree =</span> <span class="dv">5</span>)</a></code></pre></div>
<p>Visual summaries are often produced to interpret the effects of the most important features in black-box models. The example uses a <code>randomForest</code> model from the <code>randomForest</code> package, which has readily available measures of feature importance. We select one of the primary features, ‘pctKids2Par’, for further exploration.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="co">## Feature importance</span></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">varImpPlot</span>(rf_mod, <span class="dt">n.var =</span> <span class="dv">10</span>, <span class="dt">main =</span> <span class="st">&quot;Feature Importance&quot;</span>, <span class="dt">pt.cex =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnAAAAGwCAMAAAAezai4AAAA2FBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZmYAZpAAZrY6AAA6ADo6AGY6OgA6Ojo6OmY6OpA6ZpA6ZrY6kLY6kNtmAABmADpmAGZmOgBmOjpmZgBmZjpmZmZmkJBmkLZmkNtmtrZmtttmtv+QOgCQOjqQZgCQZjqQkGaQkLaQtpCQttuQ27aQ29uQ2/+2ZgC2Zjq2ZpC2kGa225C227a229u22/+2/7a2/9u2//++vr7bkDrbkGbbtmbbtpDb27bb29vb/7bb/9vb////tmb/25D/27b//7b//9v///9EEKexAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAY/UlEQVR4nO2dDZvbtpVGacfTaBynHyu53q6zTaQm2TQd7W67iV1u2k1MReL//0eLe/FBkKI0ogZ4SSrveZ7xSCQEiaNjEABxeYuaECDF2B+A/LKgcAQKhSNQKByBQuEIFApHoFA4AoXCESgUjkChcAQKhSNQKByBQuEIFApHoFA4AoXCESgUjkChcAQKhSNQKByBQuEIFApHoFA4AoXCESgUjkChcAQKhSNQKByBQuEIFApHoFA4AoXCESgUbghl4Xj+/lSRw3+d3NUutynuPlzxES6tf6pQuCE8LtzPb0672OJK4S6uf6pQuCE8Ltz2TOPX4krhLq5/qlC4IZTFs4fw5PCfRfHsdyrNP94YCX/9ID6ojVaL/apY6mu+eVM8/y4uXzvhTInFP14Vz76o//e+eCFVm1f+7V+L4sV3Wugf5uFH//6hDrW8cbaHN5QdfzEVv7Cf64dX5gVfdD7dpKBwQ4iFM7IIL4xZlW32zL5e4QSVy5cXvHCWV77Z3BahrtCgSkvoavnSlmveMDS6z6yuyrL16aYFhRtCOKWutS36rt7dm2/XuPPxB/vQnfI6wt19V/9fVF4Jwi3rH0yFX0g5fb0UM1sWtRQ2rtntUS3vW29YanNoCxkP/+XDzysp0nm36UDhhhAJZ20yW2yf6p///Uol6RXO6NktH4QzStl/vbBaeuukee8fu1qaPpx/Q7vDvDi8efnb/zl6t+lA4YYQCWe+4nAuO3xlH54QTs92cXkh9OG0nG3PQgupL/LDCq3An8zt/ugN7Q6tIhqHdN9tOlC4IUR9uKoIX6n5oosX//HPVVc4f87T10Tl9fXnhTOl13azfdwWLn7DtnCL408H/hM9BoUbQiSc8WPdPFx6bU4KF5VXntLCxW94soVrvdt0oHBDiITz7U/tmqCWMLZcVUTCReWVk8Kd6sNFwsVvGAnnXlD9+s9H7zYdKNwQ4mmRrUyf/Sz9fR1N/ryJulQ6aJQtjXBReX35aeFOjFJtLfr7+A1tFUbE332Q8+26+27TgcINoWceTsYMmyL04SudJwt99kiVprxyWrjCz8m15+HsC7X+d9EbxsL5Vy+O3m06ULghtK40/PyV0eq3cklABo0v/qxzEDLB/+K7evfG7PpbPEqNywun+3DvvgrF9ErDH+N3tvVHb9gSzl5p+OPxu00HCjctZn+t9DEo3LSgcAQKhSNQKBwhKaFwBAqFI1AoHIFC4QgUCkegUDgChcIRKBSOQKFwBAqFI1AoHIFC4QgUCkegUDgChcIRKBSOQKFwBAqFI1AoHIFC4QgUCkegUDgChcIRKBSOQKFwBAqFI1BuRbiCjMvFX1ROC4DcynHMFQpHoFA4AoXCESgUjkChcAQKhSNQKByBQuEIFApHoFA4AoXCESgUjkChcAQKhSNQKBzJydEaOApHMlK0fnUeXvTS2XMrxzELiqMHEOGqdV1vJR+7ZGJf7Fdrvz1K022TsJ/OvH7Y2GyNrp6e/ZKXW9/hRAkHhcPR17ABhFPDrChVsY52tITT/eVJ44xQi6Zc7367Z0vhpkJv1w0qXNX26Vi4/Wp5opLD5qOXD/U54X71Wvbvf/8HCjcRir4n6YXbvfzmvrDnt9KcJRc78+zug4hiBbOnVLPr2dfmuewt1o1wsq8q9PX7118Xz79ffb6SAofNopQmTsuVWmB3r4WffSvl3m0WW3nP6u5LKbG1tdoq5J+QPZnCwUAJd2++aj13ygnStFm+hXMNmn1qDKhMl02lkcLulCpOydP9amF+zLb9yrzKVGSECy1lqaIuzaZaNvwo5cyTSk1bSontwr+7VhG3ecXf6/rv/EH8tIVz23MIJy1NeffBnx+dKD8UjXC2cdo+e6h802MHDYWqoy3Vswd9vf5jiotdpajk6zWvLM2LVeilnFIXu0/M09cPUkLOrvIeTRXDj4M8FVgLZ890tvWqvXDFs7/YgaY8tZ6pVM44P6hYuNebf/V1/h8RTlQMLaUroHWsVbjDxjy1J2+tShtKX8Xw4yBPBTRo2GnnXoR7accEVjg9wS3c09ILJ6PLqA8np1ornCl1JJx4KsK5EO61nDm1xbPCyQl5u7Qn3aJ4/td7CjcymGmRRrhWC6ejVB0LxC2cFhAZnXClF66vhXM9tGZwW5kxhbNK9u8+efcnrUmr2FG40YFM/No+3PaoD+fn2Zo+nJ91ky2+hbv7EPXhjoTbvXzlWjT3wrfajXPCHTafmW6cKCk+Vzyljg/i0tbu3ngURqk6ulx64eR6gX7/pZYxgwZxrgotnL6sGaUeCWendVXUrf4js8FBOPvUtXD7lWlOKdzYAC7e7+4/uy/sFQWdh7OWuBZsd69nwWYernIXtOJLW34erkc4O8Uh9dqTcrGOhat8b1Bqf9jGjeTw4yBZyDVKnSwUblwoHIFC4QgUrocjUCgcgULhCBQKR6BQOAKFwhEoFG6ODMt4MCko3Aw5viQ+H6YSJqjr4nSZif3fu7j+7c4zy2+pzfC1ZRNiImGCh42ELrjFHrW/SJ+DOX5Jba5Z6zMdJhIm6BbIPX8fmsLTMdFPY4bfUZur1vpMh6mECSrNwjhrYBzs9/7E2w1lht9Rm97QlPkwlTBBZdtu4VrBfqmY31fUgcJ1uC5MUNCQB9+HW9TtYL9UzD4utSPc6J9n4M9UwgRrGyMYRqlLv81HJqRifm1CB7ZwHa4LE3TtW+vmIa1gv1TM7yvqwEFDh+vCBI1dtlFrhGsH+6Viht9RB06LtLkuTLAMA4cgXDvYLxUz/I66cOK3xVVhgtZSod3CNcF+qZjjl9SFl7ZirgoTLAsfJtjuwzXBfqmY5bfUhRfvIxhEQ85A4QgUCkegcD0cgULhCBQKR6BQOAKFwhEoFI5AoXCzYsaXGBwUbk7M+SKqAxQm6BaL6BIkn1SmdgtJKuhE8U18WTM+CFDUll1xuX0r3vkwh2g3kNv4ruZ7FCDh9HrX/vU3sjhz9/KBwl3BzJf6OkBhgj/Kmrjq7qfNWqNP9yu7hMnIZqMIXYJAADfyVc32MGBhggvNFSi/touQI3DvE8m4BIHXHcMgZvtNUbgT9IcJVpJiZu1/+RyBXriQIHDw5x/MfMME28KN/3mmHSYoHbfXD/JLgmx8wg4vXEgQeOmbXM9smwa2cCfoDxM07VqlyVD115FwIUFgdmb7TXHQcIL+MMF6u7QpxDWTeH8LB2G+XxWnRfrpDxOsq483+uvFm/WxcMCpkfl+VZz47ac/TLDeffrywe/tCLesowSBuZnxd8VLW730hwka81xkqr3Y0AjnUlL6BIG5mfOXxYv3fTCIhpyBwhEoFI5A4Xo4AoXCESgUjkChcAQKhSNQKByBQuGSVDr7CwAwKFy6Om/lT5QVCpewylv5G+UEE5d62LgL84fNJXkpq7VPEPLo+pHjlXSPrK1LL8VNLFODAQoT9Om0qksW9Xbus3+W8YW7jYW4MEDC2SQ0rTwz518Qcm49Esk1LeFo3KOA4lI/bF2eLZ/0OV4vF9JUrj5fmQdNvsuwWtgHrbbzWfpb7zdBrWFLguO4FAo3CFRcaojlqkNWSr8/SlPZRKv6U6r4aLPRLOpOPkufArMJag1bzh1H6tC3jnBjh+FN/QcVl2pHC2LRUVbK9gYXreqzCupa4aV19ahgrcvSQ1Br2JLkOC6FLdwgUHGpejubsFROs1LGC+eaNJVh4bm2cJLS0pZzpZuCIUFcCGptp4x76nFcCgcNg0DFpUb3UPJZKf3+dprKtnBylrSq2QxwUcGQAjMEtZajCMdpkUHA4lKNQT/paTVkpfT722kqO8KVXjjzb7tgp4Wr63qcFo4Tv4OAxaUaEb6xKjZZKe3+dprKbgsnNyNxfbh2wZACMwS1tpNiPvU4BsBLW5cDi0s1jz5Vh0JWSr+/naZShVs2fbh1M0rt5LP0KTCboNawJcVxDIEX7y8GFpfa5Hz2WSnD/laaSvlH811Gl7b8PFwnn2VrHs53D+HzcGQQjNoiUCgcgULhCBSuhyNQKByBQuEIFApHoFA4AoXCpaiTFxouhsIlq/JW/kJ5oXDparyVP1FWMGGCcdRf3x3LH42VSUfOBZg07nFAUVtR1N+NCccFv8PACidi3bBwNO5xYGGCIeovhMhEK5hsrgZI/koKNy6oMMEm6k8XvHUiBUW4EpFpK32YYFe4scPwpv6DChNsov5kSe9RpOBqedFNIBLAFm5cUGGCTdSfD3GIIwX3q08x+aA5aBgbVJhgE/UXx/s1RVyETX44LTIuqDDBJupP89x3IgX1hg+X3Ofm6XDid1xQYYJN1J95ehQpKL9BK4V5aWtcUGGCTdSfa+FakYK2yGyzCfLi/eWgwgTbl7a6kYIqnL+HXF7oxbgwiIZAoXAECoUjULgejkChcAQKhSNQKByBQuEIFApHoFC4K6vh1azroHBPqeVW/ihA0gvXuZd03b6v+GNJAn3ewVOLlQ4bt1KzKq5bzpTEEa5Iupp8wjW0hHskSaARatGU693vFjqNKBzXXF7POMKdDgs8bD7SBZynhfuVBETU+9//YTThuKr8CWQSriyW7t727r7iEixYRPGpUZJAzQ34vc0kKIvjSp+Vy2UJ9EES30q5d5vFVtM23H2pCd6i9ILf2xyDqY7jwipo3DDyCFf67B0+v59KI8sve5IEam5An0lQV2M6MV2WQJ8X7seVZnpbVGraUkq00gvaHIPJjuPCKijcMLIIVxUu4ULI71f5pqcvSaBdfWkTBIpdpajkl6ibV0oOLRe8qolEPnkvGQilRCvc8LLw/QRxqUXi+n5RPzmEsyF/mnncZ7/ar5xxPUkCQz4Q+UeEExVNuZAlUGty6UDM/sPGPPWx/O08hCmP48Iq2MINI4dwNuSvSR9YaeBC3IdrJQk8Ek48FeF8lkA5c9roG5t31ZyQtzbKq5uHMOVxXFYFfRtInj7c1kbYd/L7SRBDT5LAY+FsD60Z3FZmTLFuEv3uPnn3J63pKA9hyuO4rA4KN5A8wnkJ2vn99K4ix0kCe4TbvXzlWjT3wrfajXPCHTafmW6cKNnNQ5jyOC6qhL4NJdO0iIuwD/n9tLWqQgvXShLYI5yd1g1ZAs3TRZzKXJ+6Fq6VhzDlcVxSC30bTCbhjEjtebjKXdDqSRLYJ5yd4ghZAsOw1wpX+d7gUR7ChMfxSDW8eH8dvHhPoFA4AoXCESgUjkChcAQKhSNQKByBQuEIFApHoFC4U+V4KSELFO5ssVs56ukAF85dLA1RMujbyV12HFwOkgsK90ghGpcWCvdIGQqXlvTCdbIJ+jjA9y5QMBJOt/9Vb3quxX3Mn4sYzMNQ4WhcWjII18omKGlCdHGbDxSMhbPbXako5s9GDF5xNImOg8LlI4dwrWyClaz9Xda1DxRsCbcMxU2pVsxftjPtJWF9XeHGDq27pZ8cwrlsgq0wv9oHCraEW0fFZePQmL8rYAs3Ljn6cC65Wwjzs/K4QMEj4bS4/HtFzN8VcNAwLjmF892wRh4NFHTCueiZdnrVgTF/V8BpkXHJ1YfbRmF+cbyfD46WjpoTznX5ron5uwJO/I5LDuHibIK1j6kKgYI2h9vWB5qG4tfE/F0BL22NSw7hWtkEvVghUNB25mTa1wnni18R83cFvHg/LrlGqZOFDo0LhSNQKByBwvVwBAqFI1AoHIFC4QgUCkegUDgChcL1FuJlhlxQuNNlbuWQJwWFO1PkVo55SlC4cyVu5aAnBIU7V+BWDnpCZA0TdLcpj7aMzyDhaFxycoYJ+kQMzZYJQOHGJWOYYEg1E7Zc8fmS82iYYEe4scPqbu0nY5hgSKbVigQcG7Zw45IxaiukCwxbrvh8yeGgYVyyCyct3KyE47RIVjKGCXb6cNuJ9OEGFKFv6ckZJtiMUv2WCcBLW+OSNUzQz8M1W8aHF+/HBRFEM6mwGmo0LhSOQKFwBAov3hMoFI5AoXAECoUjUCgcgULhCBQK11eGFxqyQeFOFrmVI54WFO50iVs55EmBEK6yFxq2No5mv9LEDVuXxKHOeD/fPoYswKRx6QEI53zavfw3d8N8K5wuj9vdL66u9zoeOw4u+M0LTrhS08x0hMOvAx4iHI1LT9a4VLlt/kLSVhq5DpuFzXrUFk62SdhDiLOp4pSXtoahx/Sk46BweckZl2pzUS5dmgafk7ItnEtZY100j/0qYU1t6WsYfFTnjmNIGFsxfljdrf1kjEv1pljhRDDd0hFOEle6hEhmd4iDcEXTh+uzhRuX7HGpdZxSyyU86hFOfuJIryjxW1o4aBiXnGGCL+14QN0pfS7L/lOqZhc0D3fxuKL2NaSE0yLjkj0u1QrnsqTa3lnPoEEyRn+/Wtfjt3Cc+M1LxrjUuA/nZz9Kzd3WmRZx2dzemvNt1Idbj9OHa4rQtxzkjEuVMaZpwUQbfwI1NnYmfpdhVKHzH80oVRMM2hoGHtOTj4MX7/ORNS7VzaJtiyYqdStnzt5LW1UrltXPFsPn4UheEFFbk4LCjQuFI1AoHIHC9XAECoUjUCgcgULhCBQKR6BQuM5uXmTIC4Xr23srBztBKFzvzls52ukBChO0l+pLDXUIV+P9ohAo546DS+HyA4raKjVCcPtWvAuLjkbJ3HDmOLjYFwBIOL3etX/9jSzODOt4pywcjcsEKEzwR2nVqrufNuvatnZm17Ov9ZQKzsRF4cYFFSa4Nf22cqG/9MdIVxUqXIgQvOrzD+ZMmGBxYTn+zCBMsJJUSGv/y7ZqWztocBGCl9b/RNjCjQssTPDlw/71g/ySLlylYwg3So1jHvLDQcO4oMIETbtW6Q0f9FcZC+ciBAd/9OvgtMi4gMIEjVXLUvtqC/nVauFchCAITvyOCyhM0Fj18UZ/vXgTAk7LEA34VgWEwEtb4wIKEzSbP9WWT/faXW6UWvsIQQy8eD8umDBB7b1pN839iubh6hqaS5UyjQuDaAgUCkegUDgChevhCBQKR6BQOAKFwhEoFI5AoXAECoUjUCgcgULhCBQKR6BQOAKFwhEoFI5A+eUJR8bl4i8qpwXjkeewstQ6o4+aolYKN3atM/qoFO4kk/17gyqdbq0UbuxaZ/RRKdxJJvv3BlU63Vop3Ni1zuijUriTTPbvDap0urVSuLFrndFHpXAnmezfG1TpdGu9UeHIVKFwBAqFI1AoHIFC4QgUCkegUDgChcIRKBSOQKFwBAqFI1AoHIFC4QiUWxSuKooESeV2n7xvVXbmwYUcNoXLOJuwUpsb47HKrvqT2ExpiWu9QeEkheHT0xjuVz5xmK3szIMLOWxM4VJSqiSs1CZGfqyyq/4klSR+SV7r7Ql32GhSsCdmXTL/eUW4UNmZB5fiMpE9f5+yUpuSVrIhJ61VK7aZhtLWeoPChe/1KZVUxVJTI4bKzjwYWLPPx5iyUhEuda3l3ZdGuOSf9QaFs3k2n5zI0ArnKzvzYFi127N1XVmpJNVLXKt5jfThkn/W2xPO9iqe3onTv2So7MyDYbWaUUPqSisdiqStVc6XIlzyPwCFO1lPDuEqP2ZI+iVqMse0tZZGNgp3EVM+pVY6K5L+lNqkhk9Uq76Cp9SLSDJoqL1wSfvMpZ2FSz9okCqT1lq6m3ClrVW4PeHSTIs44ZLOCpQuYXHSSu3XXiWebFG2nBa5iDQTv+5ckXDec3e/7H7CFJOpQYvUU7T2SgMnfh+nTHJpy3VOQmVnHlz8sQR5SbpKa0kF36SGT1dr7S9tJa71FoUjE4bCESgUjkChcAQKhSNQKByBQuEIFApHoFA4AoXCESgUjkChcAQKhSNQKByBQuEIFApHoFA4AoXCESgUjkChcAQKhSNQKByBQuEIFApHoFA4AoXCESgUjkChcHnoucnLYWPvVmJv2XGy8NbegqR7U6L9am0KrlN/TjgULg+9wlmLHhNOd+9XR6WcdDOHwuWhV7iP9J6RFwnXex8sCkdOYXzZrz5f2RtplXqKPGwWpTRx9rZrPimN3PLqa3cLL93ihNvdr9Uv88/+9dfF8+9X6919Udx9KVWUT77d4mhQuDyocMaj0v3sV0sjnCqk92o2Iu5XC72LvnniCuktC5sWLggnp1d5Ij9y27rDZr4tHYXLg/qydA2VvfOlZO9wNwe3dysNOUK2rrDa5Ptwi7oRblkH4eTH3s55nlC4PEQNlJWqyU9kjLKbzL/hvq62yybb3SjVOWaFWzfCyU11y54BxVygcHmIhXPtkQgnbVgQzuwrg3D+tuHRmKJfOKlheeptpw+Fy8OJFs40UMszLZzwmHD719++nu8ZlcJlotXnb/pwknLj1VEfrnSFlVi4ZWu0aoU7bD6d8RmVwmUiEk4HoMY2K5zpo8WjVNkXRqkyeoiEk4RGh00RCyeeuvQiM4XC5SEWrpmHkz32GkL/PJycYKN54f2qKD6PTqlW1jmPUSncDNn9ZsZnVAo3P8o5n1Ep3NzY3c95yEDhCBgKR6BQOAKFwhEoFI5AoXAECoUjUCgcgULhCBQKR6BQOAKFwhEoFI5AoXAECoUjUCgcgULhCBQKR6BQOAKFwhEoFI5A+X8rB1az9Bm1aQAAAABJRU5ErkJggg==" /><!-- --></p>
<p>In this instance, ‘pctKids2Par’ presents highly correlation with several other predictiors, limiting the appropriatness of PDPs and ICE curves.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="co">## Correlation</span></a>
<a class="sourceLine" id="cb18-2" title="2">cor_vals &lt;-<span class="st"> </span><span class="kw">abs</span>(<span class="kw">cor</span>(data[, <span class="st">&quot;pctKids2Par&quot;</span>], </a>
<a class="sourceLine" id="cb18-3" title="3">                    data[, <span class="kw">setdiff</span>(<span class="kw">colnames</span>(data), <span class="st">&quot;pctKids2Par&quot;</span>)]))</a>
<a class="sourceLine" id="cb18-4" title="4"><span class="kw">hist</span>(cor_vals, <span class="dt">breaks =</span> <span class="dv">30</span>, <span class="dt">xlab =</span> <span class="st">&quot;abs(correlation)&quot;</span>, </a>
<a class="sourceLine" id="cb18-5" title="5">     <span class="dt">main =</span> <span class="st">&quot;Correlation with pctKids2Par&quot;</span>)</a>
<a class="sourceLine" id="cb18-6" title="6">num &lt;-<span class="st"> </span><span class="kw">quantile</span>(cor_vals, <span class="fl">0.8</span>)</a>
<a class="sourceLine" id="cb18-7" title="7"><span class="kw">abline</span>(<span class="dt">v =</span> num, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">lwd =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb18-8" title="8"><span class="kw">text</span>(<span class="dt">x =</span> num <span class="op">+</span><span class="st"> </span><span class="fl">0.23</span>, <span class="dt">y =</span> <span class="dv">10</span>, <span class="st">&quot; 80th Percentile&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="totalvis-plots" class="section level2">
<h2><span class="header-section-number">3.3</span> totalvis plots</h2>
<p>Due to high correlations with our feature of interest, we turn to <code>totalvis</code> to interpret groups of features through their total effect. <code>totalvis</code> accomplishes this by transformations the training data with PCA, and then generating PDPs for the principal components. The top contributors to the linear combination are presented in the legend, where contribution is defined by the magnitudes of the loadings. In cases such as this, there is a clear latent factor captured by the top features, income or economic status of a neighborhood. Using this, we can interpret the impact that neighborhood income levels has on the response.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="co">## totalvis plot</span></a>
<a class="sourceLine" id="cb19-2" title="2">df &lt;-<span class="st"> </span><span class="kw">plot</span>(<span class="kw">totalvis</span>(rf_mod, data), <span class="dt">num_load =</span> <span class="dv">8</span>, <span class="dt">legend_cex =</span> <span class="fl">1.0</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">knitr<span class="op">::</span><span class="kw">kable</span>(df, <span class="dt">row.names =</span> F, <span class="dt">align =</span> <span class="st">&quot;lc&quot;</span>)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">feature_name</th>
<th align="center">loading_value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">medFamIncome</td>
<td align="center">-0.187</td>
</tr>
<tr class="even">
<td align="left">medIncome</td>
<td align="center">-0.185</td>
</tr>
<tr class="odd">
<td align="left">pctWdiv</td>
<td align="center">-0.177</td>
</tr>
<tr class="even">
<td align="left">pctKids2Par</td>
<td align="center">-0.175</td>
</tr>
<tr class="odd">
<td align="left">pctPoverty</td>
<td align="center">0.173</td>
</tr>
<tr class="even">
<td align="left">pct2Par</td>
<td align="center">-0.173</td>
</tr>
<tr class="odd">
<td align="left">pctKids-4w2Par</td>
<td align="center">-0.172</td>
</tr>
<tr class="even">
<td align="left">perCapInc</td>
<td align="center">-0.169</td>
</tr>
</tbody>
</table>
<p>To associated the total effect of a group of predictors to a covariate of interest, we look towards the ‘pinplot’. We now plot the total effect against a more interpretable x-axis. Comparing this to a partial dependence plot of the same feature, we see a much larger range of the predicted values.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1"><span class="co">## pinplot</span></a>
<a class="sourceLine" id="cb21-2" title="2"><span class="kw">plot</span>(<span class="kw">totalvis</span>(rf_mod, data, <span class="dt">pin =</span> <span class="st">&quot;pctKids2Par&quot;</span>))</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="co">## pdp</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="kw">plot</span>(<span class="kw">totalvis</span>(rf_mod, data, <span class="dt">feature =</span> <span class="st">&quot;pctKids2Par&quot;</span>, <span class="dt">pc_num =</span> <span class="ot">NULL</span>))</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>As previously discussed, their are a variety of insight to be taken for the <code>partial_effects</code> plot. In these instance, the lines appear to be shifting in unison and the underlying assumptions of <code>totalvis</code> appear to be reasonable. The default is the plot a standardized or ‘differenced’ version of the predictions, but lines can also be added to the original <code>totalvis</code> plot.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="co">## partial_effects (default)</span></a>
<a class="sourceLine" id="cb23-2" title="2">diag_obj &lt;-<span class="st"> </span><span class="kw">partial_effects</span>(rf_mod, data, <span class="dt">num_load =</span> <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb23-3" title="3"><span class="kw">plot</span>(diag_obj, <span class="dt">legend_loc =</span> <span class="st">&quot;left&quot;</span>, <span class="dt">legend_cex =</span> <span class="fl">0.74</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1"><span class="co">## partial_effects (non-differenced)</span></a>
<a class="sourceLine" id="cb24-2" title="2"><span class="kw">plot</span>(diag_obj, <span class="dt">differenced =</span> <span class="ot">FALSE</span>, <span class="dt">legend_loc =</span> <span class="st">&quot;topleft&quot;</span>, <span class="dt">legend_cex =</span> <span class="fl">0.9</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="additionally-functionality" class="section level2">
<h2><span class="header-section-number">3.4</span> Additionally functionality</h2>
<p>Given the reliance on the package to PCA, we offer a wrapper for the <code>screeplot</code> function that works with several of the <code>totalvis</code> objects.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"><span class="co">## Wrapper to scree plot</span></a>
<a class="sourceLine" id="cb25-2" title="2"><span class="kw">scree_plot</span>(<span class="kw">totalvis</span>(rf_mod, data))</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>As a final addition to the package, we offer simple ICE curves. The default is to center the curves so they all have the same starting value and differences in tracjeories are more obvious. This can be changed with the <code>center = FALSE</code> argument</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1"><span class="co">## ice plot (default is centered)</span></a>
<a class="sourceLine" id="cb26-2" title="2">vis_obj &lt;-<span class="st"> </span><span class="kw">totalvis</span>(rf_mod, data, <span class="dt">ice =</span> T, <span class="dt">feature =</span> <span class="st">&quot;pctKids2Par&quot;</span>)</a></code></pre></div>
<pre><code>## ice = TRUE sets pc_num and pin to NULL</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">plot</span>(vis_obj, <span class="dt">legend_cex =</span> <span class="fl">1.0</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1"><span class="co">## ice plot (uncentered)</span></a>
<a class="sourceLine" id="cb29-2" title="2"><span class="kw">plot</span>(vis_obj, <span class="dt">legend_cex =</span> <span class="fl">1.0</span>, <span class="dt">center =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
